using UnityEngine;
using UnityEngine.UI;

public class LoadGame : MenuScript {

    public Button save1;
    public Button save2;
    public Button save3;
    public GameObject levelSelectMenu;
    public SaveManager saveManager;

    public override void Start() {
        base.Start();

        if (saveManager.SaveFileExists(1)) {
            save1.onClick.AddListener(() => LoadSave(1));
        } else {
            save1.interactable = false;
        }

        if (saveManager.SaveFileExists(2)) {
            save2.onClick.AddListener(() => LoadSave(2));
        } else {
            save2.interactable = false;
        }

        if (saveManager.SaveFileExists(3)) {
            save3.onClick.AddListener(() => LoadSave(3));
        } else {
            save3.interactable = false;
        }
    }

    public void LoadSave(int save) {
        levelSelectMenu.SetActive(true);
        levelSelectMenu.GetComponent<LevelSelect>().LoadSave(save);
        this.gameObject.SetActive(false);
    }
}
