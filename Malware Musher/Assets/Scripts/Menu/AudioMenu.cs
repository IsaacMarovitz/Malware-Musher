using UnityEngine;
using UnityEngine.UI;
using UnityEngine.Audio;

public class AudioMenu : MenuScript {

    public Slider masterSlider;
    public Slider musicSlider;
    public Slider sfxSlider;
    public AudioMixer master;

    private float masterVolume = 0;
    private float musicVolume = 0;
    private float sfxVolume = 0;

    public override void Start() {
        base.Start();

        master.GetFloat("MasterVolume", out masterVolume);
        master.GetFloat("MusicVolume", out musicVolume);
        master.GetFloat("SFXVolume", out sfxVolume);

        masterSlider.value = masterVolume;
        musicSlider.value = musicVolume;
        sfxSlider.value = sfxVolume;

        masterSlider.onValueChanged.AddListener(SetMasterVolume);
        musicSlider.onValueChanged.AddListener(SetMusicVolume);
        sfxSlider.onValueChanged.AddListener(SetSFXVolume);
    }

    void SetMasterVolume(float value) {
        master.SetFloat("MasterVolume", value);
    }

    void SetMusicVolume(float value) {
        master.SetFloat("MusicVolume", value);
    }

    void SetSFXVolume(float value) {
        master.SetFloat("SFXVolume", value);
    }
}

