using UnityEngine;

public class Music : MonoBehaviour {

    public AudioSource audioSource;
    public FloatObject time;

    private LevelManager levelManager;

    void Start() {
        if (time != null) {
            audioSource.time = time.Value;
        }
        levelManager = FindObjectOfType<LevelManager>();
        levelManager.deathEvent += Pause;
        levelManager.winEvent += Pause;
        levelManager.loadEvent += Resume;
    }
    
    void Pause() {
        Debug.Log("pause");
        audioSource.Pause();
    }

    void Resume() {
        audioSource.UnPause();
    }
}